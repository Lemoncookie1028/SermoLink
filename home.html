<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>SermoLink</title>
<link rel="icon" type="image/x-icon" href="favicon.ico" />
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<style>
:root {
  --bg: #0a192f;
  --panel: #112240;
  --accent: #64ffda;
  --accent-dark: #52d4b4;
  --muted: #8892b0;
  --text: #ccd6f6;
  --text-light: #e6f1ff;
  --card-radius: 16px;
  --transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

* {
  box-sizing: border-box;
  font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

html, body {
  height: 100%;
  margin: 0;
  background: linear-gradient(135deg, #0a192f 0%, #0c1b33 100%);
  color: var(--text);
  overflow: hidden;
  position: relative;
}

body::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 10% 20%, rgba(100, 255, 218, 0.05) 0%, transparent 20%),
    radial-gradient(circle at 90% 80%, rgba(100, 255, 218, 0.03) 0%, transparent 20%);
  z-index: -1;
}

.app {
  display: flex;
  height: 100vh;
  padding: 20px;
  gap: 20px;
}

.sidebar {
  width: 320px;
  background: rgba(17, 34, 64, 0.7);
  backdrop-filter: blur(10px);
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 20px;
  border-radius: var(--card-radius);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(100, 255, 218, 0.1);
  transition: var(--transition);
  overflow: hidden;
}

.sidebar:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
}

.logoh {
  display: flex;
  align-items: center;
  gap: 12px;
  padding-bottom: 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.logoh img {
  height: 40px;
  width: auto;
  filter: drop-shadow(0 0 5px rgba(100, 255, 218, 0.3));
  transition: var(--transition);
}

.logoh img:hover {
  transform: scale(1.05);
}

.brand {
  font-weight: 800;
  font-size: 24px;
  background: linear-gradient(to right, var(--accent), var(--accent-dark));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.profile {
  display: flex;
  gap: 12px;
  align-items: center;
  padding: 15px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 12px;
  transition: var(--transition);
}

.profile:hover {
  background: rgba(255, 255, 255, 0.05);
  transform: translateX(5px);
}

.avatar {
  width: 50px;
  height: 50px;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--accent), var(--accent-dark));
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--bg);
  font-weight: 700;
  font-size: 20px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(100, 255, 218, 0.2);
}

.meta {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

#displayName {
  font-weight: 600;
  font-size: 16px;
}

.muted {
  color: var(--muted);
  font-size: 13px;
}

.tabs {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.nav-buttons {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.tab {
  background: rgba(255, 255, 255, 0.05);
  border: none;
  border-radius: 10px;
  padding: 14px 16px;
  color: var(--text);
  font-weight: 500;
  text-align: left;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

.tab::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: var(--accent);
  transform: scaleY(0);
  transition: var(--transition);
}

.tab:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--text-light);
}

.tab.active {
  background: rgba(100, 255, 218, 0.1);
  color: var(--accent);
}

.tab.active::before {
  transform: scaleY(1);
}

.tab i {
  font-size: 16px;
}

.panel {
  background: rgba(255, 255, 255, 0.03);
  padding: 15px;
  border-radius: 12px;
}

.search-panel {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

#searchUser {
  background: rgba(15, 23, 42, 0.5);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  padding: 12px 15px;
  color: var(--text-light);
  font-size: 14px;
  transition: var(--transition);
}

#searchUser:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(100, 255, 218, 0.2);
}

.btn {
  background: linear-gradient(135deg, var(--accent), var(--accent-dark));
  padding: 12px 16px;
  border-radius: 10px;
  border: none;
  color: var(--bg);
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  box-shadow: 0 4px 15px rgba(100, 255, 218, 0.3);
}

.btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(100, 255, 218, 0.4);
}

.btn:active {
  transform: translateY(0);
}

.list-panel {
  background: rgba(255, 255, 255, 0.02);
  padding: 10px;
  border-radius: 12px;
  flex: 1;
  overflow-y: auto;
  max-height: 300px;
}

.friend-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  border-radius: 10px;
  transition: var(--transition);
  cursor: pointer;
}

.friend-item:hover {
  background: rgba(255, 255, 255, 0.05);
}

.friend-avatar {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  background: linear-gradient(135deg, var(--accent), var(--accent-dark));
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: var(--bg);
}

.friend-info {
  flex: 1;
}

.friend-name {
  font-weight: 500;
  font-size: 15px;
}

.friend-status {
  font-size: 12px;
  color: var(--muted);
}

.online {
  color: #64ffda;
}

.bottom-panel {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.secondary-btn {
  background: rgba(255, 255, 255, 0.05);
  color: var(--text);
  box-shadow: none;
}

.secondary-btn:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--text-light);
}

.main {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: rgba(17, 34, 64, 0.5);
  backdrop-filter: blur(10px);
  border-radius: var(--card-radius);
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(100, 255, 218, 0.1);
}

.main-header {
  padding: 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  display: flex;
  align-items: center;
  gap: 15px;
}

.status-indicator {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #64ffda;
}

#chatTitle {
  font-size: 18px;
  font-weight: 600;
}

.content {
  display: flex;
  flex: 1;
  gap: 20px;
  padding: 20px;
}

.conversation-list {
  width: 320px;
  background: rgba(255, 255, 255, 0.03);
  padding: 10px;
  border-radius: 12px;
  overflow-y: auto;
}

.convo-item {
  padding: 14px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  transition: var(--transition);
  margin-bottom: 8px;
}

.convo-item:hover {
  background: rgba(255, 255, 255, 0.05);
}

.convo-item.active {
  background: rgba(100, 255, 218, 0.1);
}

.convo-avatar {
  width: 45px;
  height: 45px;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--accent), var(--accent-dark));
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: var(--bg);
  font-size: 18px;
}

.convo-info {
  flex: 1;
}

.convo-name {
  font-weight: 500;
  margin-bottom: 4px;
}

.convo-preview {
  font-size: 13px;
  color: var(--muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 180px;
}

.convo-time {
  font-size: 12px;
  color: var(--muted);
}

.unread-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--accent);
  margin-left: 8px;
  box-shadow: 0 0 5px var(--accent);
}

.chat-window {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: rgba(15, 23, 42, 0.3);
  border-radius: 12px;
  overflow: hidden;
}

.messages {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.msg {
  max-width: 70%;
  padding: 14px 18px;
  border-radius: 18px;
  position: relative;
  animation: fadeIn 0.3s ease-out;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.msg.me {
  align-self: flex-end;
  background: linear-gradient(135deg, var(--accent), var(--accent-dark));
  color: var(--bg);
  border-bottom-right-radius: 4px;
}

.msg.them {
  align-self: flex-start;
  background: rgba(255, 255, 255, 0.05);
  color: var(--text);
  border-bottom-left-radius: 4px;
}

.msg-time {
  font-size: 11px;
  opacity: 0.7;
  margin-top: 5px;
  text-align: right;
}

.composer {
  display: flex;
  padding: 15px;
  gap: 12px;
  background: rgba(255, 255, 255, 0.03);
  border-top: 1px solid rgba(255, 255, 255, 0.05);
}

#messageInput {
  flex: 1;
  padding: 14px 18px;
  border-radius: 12px;
  background: rgba(15, 23, 42, 0.5);
  border: 1px solid rgba(255, 255, 255, 0.08);
  color: var(--text-light);
  font-size: 15px;
  transition: var(--transition);
}

#messageInput:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(100, 255, 218, 0.2);
}

#sendMsg {
  width: 50px;
  height: 50px;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--accent), var(--accent-dark));
  border: none;
  color: var(--bg);
  font-size: 18px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
  box-shadow: 0 4px 10px rgba(100, 255, 218, 0.3);
}

#sendMsg:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 15px rgba(100, 255, 218, 0.4);
}

/* Responsive adjustments */
@media (max-width: 900px) {
  .app {
    flex-direction: column;
    padding: 10px;
  }
  
  .sidebar {
    width: 100%;
    height: auto;
  }
  
  .content {
    flex-direction: column;
  }
  
  .conversation-list {
    width: 100%;
    max-height: 200px;
  }
}
</style>
</head>
<body>
<div class="app">
<aside class="sidebar">
<div class="logoh">
  <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iIzY0ZmZkYSI+PHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDEgMC04LTMuNTktOC04czMuNTktOCA4LTggOCAzLjU5IDggOC0zLjU5IDgtOCA4eiIvPjxwYXRoIGQ9Ik0xMiA2Yy0zLjMxIDAtNiAyLjY5LTYgNnMyLjY5IDYgNiA2IDYtMi42OSA2LTYtMi42OS02LTYtNnoiLz48cGF0aCBkPSJNMTIgMTBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yeiIvPjwvc3ZnPg==" alt="SermoLink">
  <div class="brand">SermoLink</div>
</div>

<div class="profile">
  <div id="miniAvatar" class="avatar">?</div>
  <div class="meta">
    <div id="displayName">Not signed in</div>
    <div id="displayEmail" class="muted"></div>
  </div>
</div>

<div class="tabs">
  <div class="nav-buttons">
    <button class="tab active" data-tab="friends">
      👥 Friends <span id="reqCount" class="small muted"></span>
    </button>
    <button class="tab" data-tab="requests">
      📬 Requests
    </button>
    <button class="tab" data-tab="dms">
      💬 DMs
    </button>
  </div>

  <div class="panel search-panel">
    <input id="searchUser" placeholder="Add by username" />
    <button id="sendRequest" class="btn">Send Request</button>
  </div>

  <div class="panel list-panel" id="listPanel">
    <!-- list injected -->
  </div>

  <div style="flex:1"></div>

  <div class="panel bottom-panel">
    <button id="profileBtn" class="btn secondary-btn">Edit Profile</button>
    <button id="signOutBtn" class="btn secondary-btn">Sign Out</button>
  </div>
</div>
</aside>

<main class="main">
<header class="main-header">
  <div class="status-indicator"></div>
  <div id="chatTitle">Select a conversation</div>
</header>

<section class="content">
  <div class="conversation-list" id="convoList"></div>
  <div class="chat-window">
    <div id="messages" class="messages"></div>
    <div class="composer">
      <input id="messageInput" placeholder="Write a message..." />
      <button id="sendMsg" class="btn">Send</button>
    </div>
  </div>
</section>
</main>
</div>

<script src="app.js"></script>
<script>
// Demo script to show functionality without app.js
document.addEventListener('DOMContentLoaded', function() {
  // Tab switching
  const tabs = document.querySelectorAll('.tab');
  tabs.forEach(tab => {
    tab.addEventListener('click', function() {
      tabs.forEach(t => t.classList.remove('active'));
      this.classList.add('active');
    });
  });
  
  // Send message functionality
  const sendMsg = document.getElementById('sendMsg');
  const messageInput = document.getElementById('messageInput');
  const messages = document.getElementById('messages');
  
  sendMsg.addEventListener('click', function() {
    const message = messageInput.value.trim();
    if (message) {
      const msgElement = document.createElement('div');
      msgElement.className = 'msg me';
      msgElement.innerHTML = `${message}<div class="msg-time">Just now</div>`;
      messages.appendChild(msgElement);
      messageInput.value = '';
      messages.scrollTop = messages.scrollHeight;
      
      // Simulate reply
      setTimeout(() => {
        const replyElement = document.createElement('div');
        replyElement.className = 'msg them';
        replyElement.innerHTML = 'Thanks for your message!';
        replyElement.innerHTML += '<div class="msg-time">Just now</div>';
        messages.appendChild(replyElement);
        messages.scrollTop = messages.scrollHeight;
      }, 1000);
    }
  });
  
  messageInput.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      sendMsg.click();
    }
  });
  
  // Populate conversation list
  const convoList = document.getElementById('convoList');
  const conversations = [
    { id: 1, name: 'Alex Johnson', lastMessage: 'Hey, how are you doing?', time: '10:42 AM', unread: true },
    { id: 2, name: 'Taylor Swift', lastMessage: 'Thanks for the help yesterday!', time: 'Yesterday', unread: false },
    { id: 3, name: 'Jamie Smith', lastMessage: 'Meeting at 3 PM today', time: 'Yesterday', unread: true },
    { id: 4, name: 'Morgan Lee', lastMessage: 'Did you see the new project?', time: 'Wed', unread: false }
  ];
  
  conversations.forEach(convo => {
    const convoItem = document.createElement('div');
    convoItem.className = 'convo-item';
    convoItem.innerHTML = `
      <div class="convo-avatar">${convo.name.split(' ').map(n => n[0]).join('').substring(0, 2)}</div>
      <div class="convo-info">
        <div class="convo-name">${convo.name}</div>
        <div class="convo-preview">${convo.lastMessage}</div>
      </div>
      <div class="convo-time">${convo.time}</div>
      ${convo.unread ? '<div class="unread-dot"></div>' : ''}
    `;
    convoList.appendChild(convoItem);
  });
  
  // Populate friends list
  const listPanel = document.getElementById('listPanel');
  const friends = [
    { id: 1, name: 'Alex Johnson', status: 'online' },
    { id: 2, name: 'Taylor Swift', status: 'offline' },
    { id: 3, name: 'Jamie Smith', status: 'online' },
    { id: 4, name: 'Morgan Lee', status: 'offline' }
  ];
  
  friends.forEach(friend => {
    const friendItem = document.createElement('div');
    friendItem.className = 'friend-item';
    friendItem.innerHTML = `
      <div class="friend-avatar">${friend.name.split(' ').map(n => n[0]).join('').substring(0, 2)}</div>
      <div class="friend-info">
        <div class="friend-name">${friend.name}</div>
        <div class="friend-status ${friend.status}">${friend.status === 'online' ? 'Online' : 'Offline'}</div>
      </div>
    `;
    listPanel.appendChild(friendItem);
  });
});
</script>
</body>
</html>
